<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>weui 登录</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <!--<link rel="stylesheet" href="./node_modules/weui/dist/style/weui.min.css">-->
    <link href="http://cdn.bootcss.com/weui/0.4.2/style/weui.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #efeff4;
        }
    </style>
</head>

<body ontouchstart>
    <div class="container">

        <div class="register">
            <form action="https://www.baidu.com" id="registerForm" method="POST">
                <div class="weui_cells_title">用户注册</div>
                <div class="weui_cells weui_cells_form">
                    <div class="weui_cell ">
                        <div class="weui_cell_hd">
                            <label for="" class="weui_label">用户名</label>
                        </div>
                        <div class="weui_cell_bd weui_cell_primary">
                            <input type="text" class="weui_input" placeholder="请输入用户名" name="username" required>
                        </div>
                        <div class="weui_cell_ft">
                            <i class="weui_icon_warn"></i>
                        </div>
                    </div>

                    <div class="weui_cell ">
                        <div class="weui_cell_hd">
                            <label for="" class="weui_label">手机号</label>
                        </div>
                        <div class="weui_cell_bd weui_cell_primary">
                            <input type="telephone" class="weui_input" placeholder="请输入手机号" name="telephone">
                        </div>
                        <div class="weui_cell_ft">
                            <i class="weui_icon_warn"></i>
                        </div>
                    </div>

                    <div class="weui_cell ">
                        <div class="weui_cell_hd">
                            <label for="" class="weui_label">密码</label>
                        </div>
                        <div class="weui_cell_bd weui_cell_primary">
                            <input type="password" class="weui_input" autocomplete="off" placeholder="请输入密码" name="password" >
                        </div>
                        <div class="weui_cell_ft">
                            <i class="weui_icon_warn"></i>
                        </div>
                    </div>
                    <!--开关-->
                    <div class="weui_cell weui_cell_switch">
                        <div class="weui_cell_bd weui_cell_primary">记住密码</div>
                        <div class="weui_cell_ft">
                            <input class="weui_switch" type="checkbox">
                        </div>
                    </div>
                    <!---->
                    <!--复选框-->
                    <div class="weui_cells weui_cells_checkbox">
                        <label class="weui_cell weui_check_label" for="s11">
                            <div class="weui_cell_hd">
                                <input type="checkbox" class="weui_check" name="checkbox1" id="s11" checked="checked">
                                <i class="weui_icon_checked"></i>
                            </div>
                            <div class="weui_cell_bd">
                                <p>standard is dealt for u.</p>
                            </div>
                         </label>

                        <label class="weui_cell weui_check_label" for="s12">
                        <div class="weui_cell_hd">
                            <input type="checkbox" name="checkbox1" class="weui_check" id="s12">
                            <i class="weui_icon_checked"></i>
                        </div>
                        <div class="weui_cell_bd">
                            <p>standard is dealicient for u.</p>
                        </div>
                     </label>
                        <a href="javascript:void(0);" class="weui_cell weui_cell_link">
                            <div class="weui_cell_bd">添加更多</div>
                        </a>
                    </div>
                    <!---->
                    <p class="weui_cells_tips">提示</p>
                    <div class="weui_btn_area">
                        <button type="submit" class="weui_btn weui_btn_primary" id="submit_btn">注册</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <script>
        const submitBtn = document.getElementById('submit_btn');
        const usernameInput = document.querySelector('[name="username"]');
        const telInput = document.querySelector('[name="telephone"]');
        const pwdInput = document.querySelector('[name="password"]');
        const oForm = document.getElementById('registerForm');
        const reg = {
            tel: /^1[34578]\d{9}$/,
            user: /^[a-zA-Z_]\w{5,17}$/,
            pwd: /^[\w\.+\-\/\\!@#$%\^&*\(\)\[\]|~?,:\;'"{}`<>=]{6,18}$/
        };
        oForm.addEventListener('submit', (event) => {

            event.preventDefault();
            const username = usernameInput.value;
            const password = pwdInput.value;
            const telephone = telInput.value;
            if (username.length < 6) {
                usernameInput.parentNode.parentNode.classList.add('weui_cell_warn');
                return;
            } else {
                usernameInput.parentNode.parentNode.classList.remove('weui_cell_warn');

            }
            if (!reg.tel.test(telephone)) {
                telInput.parentNode.parentNode.classList.add('weui_cell_warn');
               return;
            }else{
                telInput.parentNode.parentNode.classList.remove('weui_cell_warn');
                
            }
            if(!reg.pwd.test(password)){
                pwdInput.parentNode.parentNode.classList.add('weui_cell_warn');
                return;
            }else{
                pwdInput.parentNode.parentNode.classList.remove('weui_cell_warn');
            }
            console.log(username, password, telephone);
            oForm.submit();

        });
        // submitBtn.addEventListener('click', () => {
        //     // 检测用户名
        //     // 检测手机号
        //     // 检测密码
        //     // 提交后台
        //     const username = usernameInput.value;
        //     const password = pwdInput.value;
        //     const telephone = telInput.value;
        //     console.log(username, password, telephone);
        // });
    </script>
</body>

</html>